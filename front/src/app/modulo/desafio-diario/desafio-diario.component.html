<div *ngIf="questaoDiaria" class="questao-container">
    <div class="barra-progresso">
        <span class="numero-questao">QUESTÃO {{ currentQuestion }}</span>
        <div class="progress-bar">
            <div class="progress" [style.width.%]="(currentQuestion / 10) * 100"></div>
        </div>
    </div>

    <div class="indicativo-questao">
        <p>Questão ENEM | {{ questaoDiaria.year }} - {{ areaConhecimento }} </p>
    </div>

    <div class="questao-texto" [innerHTML]="questaoDiaria.baseText"></div>
    <div class="questao-texto" [innerHTML]="questaoDiaria.stem"></div>

    <ul class="question-items">
        <li *ngFor="let item of questionItems; let i = index" [class.marcado]="i === selectedIndex"
            [class.correto]="respostaConfirmada && item.correctItem"
            [class.incorreto]="respostaConfirmada && i === selectedIndex && !item.correctItem"
            [class.disabled]="dicasDesabilitadas.includes(i)">
            <button class="item-botao" (click)="markItem(i)"
                [disabled]="dicasDesabilitadas.includes(i) || respostaConfirmada">
                <span class="bolinha" [class.checked]="i === selectedIndex"></span>
                <span>{{ getLetter(i) }}</span>
                <div [innerHTML]="item.description"></div>
            </button>
        </li>
    </ul>
</div>

<div class="footer-container">
    <div class="footer-left">
        <ng-container *ngIf="respostaConfirmada">
            <div class="resultado">
                <h1>{{ acertou ? 'Correto! :D' : 'Não foi dessa vez... :/' }}</h1>
            </div>
        </ng-container>

        <ng-container *ngIf="!respostaConfirmada && usuario">
            <div class="dica" (click)="usarDica()">
                <img src="assets/imagens/icone-dica.png" alt="Ícone Dicas">
                <p>{{ usuario?.qtd_dicas }}</p>
            </div>

            <div *ngIf="dicasDesabilitadas.length === 0" class="pulo" (click)="pularQuestao()">
                <img src="assets/imagens/icone-skip.png" alt="Ícone Pular Questão">
                <p>{{ usuario?.qtd_pulos }}</p>
            </div>

            <div *ngIf="dicasDesabilitadas.length > 0" class="resultado">
                {{ dicasDesabilitadas.length }} alternativa{{ dicasDesabilitadas.length > 1 ? 's' : '' }} fo{{
                dicasDesabilitadas.length > 1 ? 'ram' : 'i' }} eliminada{{ dicasDesabilitadas.length > 1 ? 's' : ''
                }}...
            </div>
        </ng-container>
    </div>
    <div class="footer-right">
        <button *ngIf="!respostaConfirmada" class="confirmar-botao" (click)="confirmarResposta()">Confirmar</button>
        <button *ngIf="respostaConfirmada" class="continuar-botao" (click)="proximaQuestao()">Continuar</button>
    </div>
</div>